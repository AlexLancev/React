### **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**

**React.memo** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ (HOC), –∫–æ—Ç–æ—Ä—ã–π –º–µ–º–æ–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ï—Å–ª–∏ –ø—Ä–æ–ø—Å—ã –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è.

```jsx
const MemoizedComponent = React.memo(MyComponent);
```

---

### **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**

React.memo —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø—Ä–æ–ø—Å—ã —Ç–µ–∫—É—â–µ–≥–æ –∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞:

```jsx
// –ë–µ–∑ React.memo
function Parent() {
  const [count, setCount] = useState(0);
  
  // Child –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ count
  return (
    <>
      <button onClick={() => setCount(c => c + 1)}>
        Count: {count}
      </button>
      <Child text="Static text" /> {/* –í—Å–µ —Ä–∞–≤–Ω–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è! */}
    </>
  );
}

// –° React.memo
const Child = React.memo(function Child({ text }) {
  console.log('Child renders'); // üëà –¢–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ text
  return <div>{text}</div>;
});
// –¢–µ–ø–µ—Ä—å Child –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ count
```

---

### **–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**

React.memo –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (shallow compare):

```jsx
const User = React.memo(({ user }) => {
  return <div>{user.name}</div>;
});

// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –æ–±—ä–µ–∫—Ç user —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–Ω–æ–≤–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
function Parent() {
  const [count, setCount] = useState(0);
  
  return (
    <>
      <button onClick={() => setCount(c => c + 1)}>+</button>
      <User user={{ name: 'John' }} /> {/* –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –∫–∞–∂–¥—ã–π —Ä–∞–∑! */}
    </>
  );
}

// ‚úÖ –†–µ—à–µ–Ω–∏–µ: useMemo –∏–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã
function Parent() {
  const [count, setCount] = useState(0);
  const user = useMemo(() => ({ name: 'John' }), []);
  
  return (
    <>
      <button onClick={() => setCount(c => c + 1)}>+</button>
      <User user={user} />
    </>
  );
}
```

---

### **–ö–∞—Å—Ç–æ–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è**

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤—Ç–æ—Ä—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —Ñ—É–Ω–∫—Ü–∏—é —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:

```jsx
const User = React.memo(
  function User({ user }) {
    return <div>{user.name}</div>;
  },
  // –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
  (prevProps, nextProps) => {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true, –µ—Å–ª–∏ –ø—Ä–æ–ø—Å—ã –†–ê–í–ù–´ (—Ä–µ–Ω–¥–µ—Ä –Ω–µ –Ω—É–∂–µ–Ω)
    return prevProps.user.id === nextProps.user.id;
  }
);

// –¢–µ–ø–µ—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user.id
// –î–∞–∂–µ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –¥—Ä—É–≥–∏–µ –ø–æ–ª—è –≤ user
```

---

### **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

#### **‚úÖ –•–æ—Ä–æ—à–∏–µ —Å–ª—É—á–∞–∏:**

1. **–ß–∏—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è**
```jsx
const UserCard = React.memo(({ user }) => (
  <div className="card">
    <h3>{user.name}</h3>
    <p>{user.email}</p>
  </div>
));
```

2. **–ß–∞—Å—Ç–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º—ã–µ —Ä–æ–¥–∏—Ç–µ–ª–∏**
```jsx
function Game() {
  const [score, setScore] = useState(0);
  
  // –ß–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
  useEffect(() => {
    const interval = setInterval(() => {
      setScore(s => s + 1);
    }, 16); // 60 FPS
  }, []);
  
  // –°—Ç–∞—Ç–∏—á–Ω—ã–π UI –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è
  const Controls = React.memo(() => (
    <div className="controls">
      <button>Pause</button>
      <button>Restart</button>
    </div>
  ));
  
  return (
    <>
      <Score value={score} />
      <Controls /> {/* –ù–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è */}
    </>
  );
}
```

3. **–ë–æ–ª—å—à–∏–µ —Å–ø–∏—Å–∫–∏**
```jsx
const ListItem = React.memo(({ item, onSelect }) => {
  return (
    <li onClick={() => onSelect(item.id)}>
      {item.name}
    </li>
  );
});

function List({ items }) {
  const handleSelect = useCallback((id) => {
    console.log('Selected:', id);
  }, []);
  
  return (
    <ul>
      {items.map(item => (
        <ListItem 
          key={item.id} 
          item={item}
          onSelect={handleSelect} // useCallback –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
        />
      ))}
    </ul>
  );
}
```

---

### **–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

#### **‚ùå –ü–ª–æ—Ö–∏–µ —Å–ª—É—á–∞–∏:**

1. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—Ç –ø—Ä–æ–ø—Å—ã**
```jsx
// ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–æ
const Counter = React.memo(({ count }) => {
  return <div>{count}</div>;
});

function Parent() {
  const [count, setCount] = useState(0);
  
  useEffect(() => {
    setInterval(() => setCount(c => c + 1), 1000);
  }, []);
  
  return <Counter count={count} />; // count –º–µ–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
}
// React.memo –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ false
```

2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏/—Ñ—É–Ω–∫—Ü–∏—è–º–∏ –±–µ–∑ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏**
```jsx
const Child = React.memo(({ onClick }) => (
  <button onClick={onClick}>Click</button>
));

function Parent() {
  const [count, setCount] = useState(0);
  
  // ‚ùå onClick —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–Ω–æ–≤–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑
  const handleClick = () => console.log('click');
  
  return (
    <>
      <button onClick={() => setCount(c => c + 1)}>
        Count: {count}
      </button>
      <Child onClick={handleClick} /> {/* –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è! */}
    </>
  );
}
```

3. **–û—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
```jsx
// ‚ùå –ù–∞–≥—Ä—É–∑–∫–∞ –æ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –±–æ–ª—å—à–µ –≤—ã–≥–æ–¥—ã
const SimpleText = React.memo(({ text }) => <span>{text}</span>);
```

---

### **React.memo + useCallback**

–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ:

```jsx
const Button = React.memo(({ onClick, children }) => {
  console.log('Button render');
  return <button onClick={onClick}>{children}</button>;
});

function Dashboard() {
  const [count, setCount] = useState(0);
  
  // ‚úÖ –° useCallback
  const handleSave = useCallback(() => {
    console.log('Saving...');
  }, []);
  
  // ‚ùå –ë–µ–∑ useCallback (–ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç Button)
  // const handleSave = () => console.log('Saving...');
  
  return (
    <div>
      <button onClick={() => setCount(c => c + 1)}>
        Count: {count}
      </button>
      <Button onClick={handleSave}>Save</Button>
    </div>
  );
}
// Button –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ count
```

---

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

```jsx
// –ó–∞–º–µ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
const ExpensiveComponent = React.memo(
  ({ data }) => {
    // –¢—è–∂—ë–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
    const result = expensiveCalculation(data);
    return <div>{result}</div>;
  },
  (prev, next) => {
    // –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ –Ω—É–∂–Ω—ã–º –ø–æ–ª—è–º
    return prev.data.id === next.data.id;
  }
);
```

---

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**

1. **–¢–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–ø—Å–æ–≤:** –ù–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
2. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø—Å–æ–≤:** –ú–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Ä–æ–∂–µ, —á–µ–º —Å–∞–º —Ä–µ–Ω–¥–µ—Ä –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. **–ù–µ –≥–ª—É–±–æ–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:** –î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤/–º–∞—Å—Å–∏–≤–æ–≤ –Ω—É–∂–Ω–æ –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–ª–∏ –º–µ–º–æ–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø—Å–æ–≤

---

### **–†–µ–∑—é–º–µ**

**React.memo** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤ –ø—Ä–∏ –Ω–µ–∏–∑–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–ø—Å–∞—Ö.

**–ö–ª—é—á–µ–≤—ã–µ –Ω—é–∞–Ω—Å—ã:**
1. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:** –ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∞ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø—Ä–æ–ø—Å–∞—Ö
2. **–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø—Ä–æ–ø—Å—ã —á–µ—Ä–µ–∑ `Object.is` (–∞–Ω–∞–ª–æ–≥ `===`)
3. **–†–∞–±–æ—Ç–∞–µ—Ç —Å useCallback/useMemo:** –î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤/—Ñ—É–Ω–∫—Ü–∏–π –Ω—É–∂–Ω–∞ –º–µ–º–æ–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø—Å–æ–≤

**–ö–∞–∫ —Å–∫–∞–∑–∞—Ç—å —Å–≤–æ–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**
¬´React.memo ‚Äî —ç—Ç–æ –∫–∞–∫ –∫—ç—à –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –û–Ω –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç, –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–≥–ª—è–¥–µ–ª —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –ø—Ä–æ–ø—Å–∞–º–∏, –∏ –µ—Å–ª–∏ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Ä–µ–Ω–¥–µ—Ä–µ –ø—Ä–æ–ø—Å—ã —Ç–µ –∂–µ —Å–∞–º—ã–µ ‚Äî –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –µ–≥–æ. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è "—Ç—è–∂—ë–ª—ã—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–ª–∏ –∫–æ–≥–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—å —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –∞ –¥–µ—Ç–∏ ‚Äî –Ω–µ—Ç. –ù–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –ø—Ä–æ–ø—Å–∞–º–∏, –∏ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤/—Ñ—É–Ω–∫—Ü–∏–π –Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useMemo/useCallback.¬ª