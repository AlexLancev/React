### **Объяснение**

**Хуки (Hooks)** — это функции, которые позволяют "подключаться" к возможностям React (состояние, жизненный цикл, контекст) из функциональных компонентов. Появились в React 16.8, чтобы использовать логику состояния без классов.

---

### **Основные встроенные хуки**

**useState** — для состояния
```jsx
const [count, setCount] = useState(0);
```

**useEffect** — для побочных эффектов
```jsx
useEffect(() => {
  // Код эффекта
  return () => { /* Очистка */ };
}, [dependencies]);
```

**useContext** — для доступа к контексту
```jsx
const value = useContext(MyContext);
```

**useRef** — для рефов и изменяемых значений
```jsx
const ref = useRef(initialValue);
```

**useMemo/useCallback** — для оптимизации
```jsx
const memoizedValue = useMemo(() => compute(), [dep]);
const memoizedCallback = useCallback(() => {}, [dep]);
```

---

### **Основные правила использования хуков**

#### **1. Вызывайте хуки только на верхнем уровне**
Нельзя вызывать хуки внутри условий, циклов или вложенных функций.

```jsx
// ✅ Правильно
function Component() {
  const [state, setState] = useState('');
  useEffect(() => {});
}

// ❌ Неправильно
function BadComponent() {
  if (condition) {
    useState(''); // ❌ В условии
  }
}
```

#### **2. Вызывайте хуки только из React-функций**
Только из функциональных компонентов или кастомных хуков.

```jsx
// ✅ Правильно
function MyComponent() {
  useState('');
}

function useCustomHook() {
  useState('');
}

// ❌ Неправильно
function regularJSFunction() {
  useState(''); // ❌ Обычная функция
}
```

#### **3. Порядок вызова хуков должен быть стабильным**
Между рендерами хуки должны вызываться в одинаковом порядке.

```jsx
// ✅ Порядок стабилен
function Component() {
  const [a] = useState(1); // Всегда первый
  const [b] = useState(2); // Всегда второй
}

// ❌ Порядок нестабилен
function BadComponent({ cond }) {
  if (cond) {
    const [a] = useState(1); // ❌ Может не вызваться
  }
  const [b] = useState(2); // ❌ Порядок сбивается
}
```

---

### **Кастомные хуки**

Собственные хуки для переиспользования логики:

```jsx
function useLocalStorage(key, initialValue) {
  const [value, setValue] = useState(() => {
    const stored = localStorage.getItem(key);
    return stored ? JSON.parse(stored) : initialValue;
  });

  useEffect(() => {
    localStorage.setItem(key, JSON.stringify(value));
  }, [key, value]);

  return [value, setValue];
}
```

---

### **Резюме**

Хуки — это функции, дающие функциональным компонентам доступ к состоянию и возможностям React.

**Ключевые нюансы:**
1. **Только в функциональных компонентах:** Хуки работают только в функциональных компонентах или кастомных хуках, не в классах.
2. **Три главных правила:** Вызов на верхнем уровне, только из React-функций, стабильный порядок вызова.
3. **Декларативный подход:** `useEffect` объединяет логику жизненного цикла, делая код чище чем в классах.

**Выжимка:**
Хуки позволяют функциональным компонентам использовать состояние, эффекты и другие возможности React. Основные правила: всегда вызывать на верхнем уровне компонента, не в условиях или циклах; вызывать только из React-компонентов или других хуков; соблюдать одинаковый порядок вызова между рендерами.

**Как сказать своими словами:**
«Хуки — это способ добавить состояние и другие возможности React в функциональные компоненты. Главные правила: 1) вызывай их только в начале функции компонента, не внутри if или циклов; 2) используй только в React-компонентах или своих хуках; 3) порядок вызова должен быть одинаковым при каждом рендере. Без этого React не сможет правильно сопоставить состояния между обновлениями.»